// Helps you to provide provide retina optimized backgrounds
// in an innovative and easy way. (Requires compass).
//
// ==== Options
// * <tt>$url</tt> is your background image.
// * <tt>$retina_url</tt> is your retina optimized background image.
// If no $retina_url option is provided or it equals to `false`, $url
// is used for the retina background image, but its size it cut to half.
//
// ==== Examples
// // Assuming background-image.png is 100x100.
// @include retina-background-image('background-image.png'); // =>
//   background-image: url('background-image.png');
//
//   @media (-webkit-min-device-pixel-ratio: 2) {
//     background-size: 50 50;
//   }
//
// @include retina-background-image('background-image.png', 'background-image@2x.png'); // =>
//   background-image: url('background-image.png');
//
//   @media (-webkit-min-device-pixel-ratio: 2) {
//     background-image: url('background-image@2x.png');
//   }
//
// == Changes
// * Updated to use A CSS media query that captures almost all high DPI aware devices. - https://gist.github.com/3446599
//
@mixin retina-background-image($url, $retina_url: false) {
  background-image: image-url($url);

  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),
         only screen and (min-device-pixel-ratio: 1.3),
         only screen and (min-resolution: 120dpi) {
    @if $retina_url == false {
      background-size: image-width($url) / 2 image-height($url) / 2;
    } @else {
      background-image: image-url($retina_url);
      background-size: image-width($url) image-height($url);
    }
  }
}
